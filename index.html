<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eProcesso Buscador</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="header-content">
            <div class="logo-container">
                <img src="img/eProcessoBuscador.svg" alt="eProcesso Buscador">
            </div>

            <div class="search-bar">
                <div class="search-input-container">
                    <input type="text" class="search-input" id="q" name="q" 
                           placeholder="Digite sua busca..." autocomplete="off">
                    <button type="button" class="clear-input-btn" 
                            onclick="clearMainSearch()" title="Limpar busca">×</button>
                </div>
                <button type="submit" class="btn btn-primary" onclick="checkQueryEmpty()">Buscar</button>
                <button class="btn btn-secondary btn-filter">
                    <img src="img/filter-solid-full.svg" alt="" class="filter-icon">
                    <span class="filter-text">Filtros Avançados</span>
                </button>
            </div>

            <div class="institutions">
                <img src="img/Receita.svg" alt="Receita Federal">
                <img src="img/PGFN.svg" alt="PGFN">
                <img src="img/CARF.svg" alt="CARF">
            </div>
        </div>
    </header>

    <!-- MAIN -->
    <main>
        <!-- SIDEBAR -->
        <aside>
            <div class="faceted-search">
                <div class="faceted-title">Busca Facetada</div>
                <div class="facet-group">
                    <div class="facet-label">Grupo</div>
                    <div class="facet-item">
                        <a href="#" class="facet-link">Nome do Processo</a>
                        <span class="facet-badge">123</span>
                    </div>
                    <div class="facet-item">
                        <a href="#" class="facet-link">Tipo de Documento</a>
                        <span class="facet-badge">45</span>
                    </div>
                    <div class="facet-item">
                        <a href="#" class="facet-link">Unidade</a>
                        <span class="facet-badge">78</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- RESULTS -->
        <section class="results-section">
            <!-- Filtros Aplicados -->
            <div class="applied-filters border-primary" id="appliedFilters" style="display: none;">
                <div class="applied-filters-header">
                    <span class="applied-filters-title">Filtros aplicados:</span>
                    <button class="btn btn-clear-all" id="btnClearAllFilters">Limpar todos</button>
                </div>
                <div class="applied-filters-list" id="appliedFiltersList"></div>
            </div>

            <!-- Result Card Template -->
            <div class="results-container" id="resultsContainer">
                <div class="loading-state">
                    <div class="spinner"></div>
                    <p>Carregando resultados...</p>
                </div>
                <!-- Cards serão inseridos aqui dinamicamente ou via server-side -->
            </div>

            <!-- Footer -->
            <footer>
                <div class="footer-left">
                    <span><span class="results-found">0</span> resultados encontrados</span>
                    <div class="export-buttons">
                        <a href="#" class="export-btn" data-format="xml">XML</a>
                        <a href="#" class="export-btn" data-format="json">JSON</a>
                        <a href="#" class="export-btn" data-format="csv">CSV</a>
                    </div>
                </div>
                <div class="pagination">
                    <button disabled>Anterior</button>
                    <span>Página <span class="page-num">1</span> de <span class="page-count">1</span></span>
                    <button>Próxima</button>
                </div>
            </footer>
        </section>
    </main>

    <!-- MODAL FILTROS -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Filtros Avançados</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Filtros de Data -->
                <div class="filter-section">
                    <div class="filter-section-title">
                        <img src="img/calendar-days-solid-full.svg" alt="">
                        Filtros de Data</div>

                    <div class="dates-row">
                        <div class="filter-group">
                            <label class="field-label">Data do Protocolo do Processo</label>
                            <div class="date-range">
                                <span class="date-range-label">De</span>
                                <input type="date" class="date-input">
                                <span class="date-range-label">Até</span>
                                <input type="date" class="date-input">
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Data da Juntada</label>
                            <div class="date-range">
                                <span class="date-range-label">De</span>
                                <input type="date" class="date-input">
                                <span class="date-range-label">Até</span>
                                <input type="date" class="date-input">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processo e Documento -->
                <div class="filter-section">
                    <div class="filter-section-title">
                       <img src="img/file-lines-solid-full.svg" alt="">
                        Processo e Documento</div>

                    <div class="filters-grid">
                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Grupo Processo</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Tipo Processo</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Subtipo Processo</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Nr Processo</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Situação do Documento</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Assuntos/Objetos</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Tipo do Documento</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Título Documento</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Nr Doc Principal</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Tributo ACT</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="filter-value">
                            <div class="">
                                <label class="field-label">Valor Mínimo</label>
                                <input type="number" class="filter-input" placeholder="R$ 0,00">
                            </div>

                            <div class="">
                                <label class="field-label">Valor Máximo</label>
                                <input type="number" class="filter-input" placeholder="R$ 0,00">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Unidade e Equipe -->
                <div class="filter-section">
                    <div class="filter-section-title">
                        <img src="img/building-user-solid-full.svg" alt="">
                        Unidade e Equipe</div>

                    <div class="filters-grid">
                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Unidade de Origem do Documento</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Equipe de Origem do Documento</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Unidade Atual</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Equipe Atual</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Partes Envolvidas -->
                <div class="filter-section">
                    <div class="filter-section-title">
                        <img src="img/user-group-solid-full.svg" alt="">
                        Partes Envolvidas</div>

                    <div class="filters-grid">
                        <div class="filter-group">
                            <label class="field-label">NI Contribuinte</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Nome do Contribuinte</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">CPF Responsável</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Nome Usuário Juntada</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Nome Relator DRJ</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Julgamento -->
                <div class="filter-section">
                    <div class="filter-section-title">
                        <img src="img/scale-balanced-solid-full.svg" alt="">
                        Julgamento</div>

                    <div class="filters-grid">
                        <div class="filter-group">
                            <label class="field-label filter-label-auto">Alegações no Recurso</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Result Julgamento DRJ nível 1</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="field-label">Result Julgamento DRJ nível 2</label>
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Digite...">
                                <div class="operator-toggle" data-operator="contem">
                                    <div class="operator-current">
                                        <span class="operator-text">Contém</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-clear" id="btnClear">Limpar Filtros</button>
                <div class="footer-right">
                    <button class="btn-cancel" id="btnCancel">Cancelar</button>
                    <button class="btn-apply" id="btnApply">Aplicar Filtros</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="app.js"></script>
    <script src="card_manager.js"></script>
    <script src="busca_facetada.js"></script>
    <script src="mock.js"></script>
</body>
</html>

